[{"/Users/andrew/Repos/creative-compression/ui/src/App.js":"1","/Users/andrew/Repos/creative-compression/ui/src/Canvas/Canvas.js":"2","/Users/andrew/Repos/creative-compression/ui/src/Uploader/Uploader.js":"3","/Users/andrew/Repos/creative-compression/ui/src/reportWebVitals.js":"4","/Users/andrew/Repos/creative-compression/ui/src/Sidebar/Sidebar.js":"5","/Users/andrew/Repos/creative-compression/ui/src/index.js":"6"},{"size":2811,"mtime":1612700954702,"results":"7","hashOfConfig":"8"},{"size":3686,"mtime":1612534884138,"results":"9","hashOfConfig":"8"},{"size":717,"mtime":1611841610148,"results":"10","hashOfConfig":"8"},{"size":362,"mtime":1611839541288,"results":"11","hashOfConfig":"8"},{"size":1513,"mtime":1612701065262,"results":"12","hashOfConfig":"8"},{"size":500,"mtime":1611839541288,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},"17h40js",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"/Users/andrew/Repos/creative-compression/ui/src/App.js",["31"],"import './App.css';\nimport React, { useRef, useState } from 'react';\nimport Uploader from './Uploader/Uploader';\nimport Sidebar from './Sidebar/Sidebar';\nimport Canvas from './Canvas/Canvas';\n\nconst API_URL = process.env.NODE_ENV === 'development' ? 'http://127.0.0.1:5000' : '';\n\nfunction App() {\n  const canvasRef = useRef();\n  const [imageFilename, setImageFilename] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [savedShapes, setSavedShapes] = useState([]);\n  const [hasVisibleBorders, setHasVisibleBorders] = useState(false);\n\n  const [speeds, setSpeeds] = useState([]);\n  const [steps, setSteps] = useState(1);\n  const [distances, setDistances] = useState([]);\n\n  const resetState = async event => {\n    setImageFilename(null);\n    setSavedShapes([]);\n    setSteps(1);\n    setSpeeds([]);\n    setDistances([]);\n  };\n\n  const addShape = shape => {\n    setSavedShapes([...savedShapes, shape]);\n    setDistances([...distances, 5]);\n    setSteps(5);\n    setSpeeds([...speeds, 1]);\n  }\n\n  const removeFromArray = (array, index) => array.map((value, i) => index === i ? false : value).filter(exists => exists)\n  const deleteShape = index => {\n    setDistances(removeFromArray(distances, index));\n    setSpeeds(removeFromArray(speeds, index));\n    setSavedShapes(removeFromArray(savedShapes, index));\n  }\n\n  const imageUrl = (isPreview = true) => savedShapes.length > 0 \n    ? `${API_URL}/composition/${isPreview ? 'preview_' : ''}${imageFilename}?boxes=${JSON.stringify(savedShapes)}&width=${canvasRef.current.width}&showBorders=${hasVisibleBorders}&speeds=${JSON.stringify(speeds)}&steps=${steps}&distances=${JSON.stringify(distances)}`\n    : `${API_URL}/static/uploads/preview_${imageFilename}`;\n\n  return (\n    <div className=\"page\">\n      <div className={`main ${!imageFilename ? 'is-empty' : ''}`}>\n        <Canvas\n          addShape={addShape}\n          canvasRef={canvasRef}\n          imageUrl={imageFilename ? imageUrl() : null}\n          savedShapes={savedShapes}\n          setIsLoading={setIsLoading}\n        />\n        {isLoading && <div className=\"loader\" />}\n      </div>\n      <div className=\"sidebar\">\n        <Sidebar\n          deleteShape={deleteShape}\n          distances={distances}\n          hasVisibleBorders={hasVisibleBorders}\n          savedShapes={savedShapes}\n          setDistances={setDistances}\n          setHasVisibleBorders={setHasVisibleBorders}\n          setSteps={setSteps}\n          setSpeeds={setSpeeds}\n          steps={steps}\n          speeds={speeds}\n        /> \n        <Uploader API_URL={API_URL} resetState={resetState} setImageFilename={setImageFilename} setIsLoading={setIsLoading} />\n        <a href={imageUrl(false)} target=\"_blank\" className=\"downloader\">Export high quality</a>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/andrew/Repos/creative-compression/ui/src/Canvas/Canvas.js",[],["32","33"],"/Users/andrew/Repos/creative-compression/ui/src/Uploader/Uploader.js",[],["34","35"],"/Users/andrew/Repos/creative-compression/ui/src/reportWebVitals.js",[],["36","37"],"/Users/andrew/Repos/creative-compression/ui/src/Sidebar/Sidebar.js",[],"/Users/andrew/Repos/creative-compression/ui/src/index.js",[],["38","39"],{"ruleId":"40","severity":1,"message":"41","line":73,"column":35,"nodeType":"42","endLine":73,"endColumn":50},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","replacedBy":"46"},{"ruleId":"43","replacedBy":"47"},{"ruleId":"45","replacedBy":"48"},{"ruleId":"43","replacedBy":"49"},{"ruleId":"45","replacedBy":"50"},{"ruleId":"43","replacedBy":"51"},{"ruleId":"45","replacedBy":"52"},"react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXAttribute","no-native-reassign",["53"],"no-negated-in-lhs",["54"],["53"],["54"],["53"],["54"],["53"],["54"],"no-global-assign","no-unsafe-negation"]